<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <title>SkillPathIA</title>
  <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <a class="navbar-brand" href="index.html">
        <img src="assets/icons/logo.png" alt="Logo" />
        <span class="brand-skill">SkillPath</span><span class="brand-ia">IA</span>
    </a>
    <nav class="navbar-cursos">
      <a href="#cursos" class="nav-cursos">Cursos</a>
    </nav>
    <div class="navbar-busqueda">
      <form class="search-form" action="#" method="get">
        <input type="text" name="q" placeholder="Buscar cursos..." aria-label="Buscar cursos" />
      </form>
    </div>
    <input type="checkbox" id="menu-toggle" class="menu-toggle" />
    <label for="menu-toggle" class="menu-icon">&#9776;</label>
    <div class="navbar-derecha">
      <nav class="navbar-precios">
        <a href="index.html#precios" class="btn-primary">Precios</a>
      </nav>
      <div class="navbar-avatar navbar-avatar-desktop">
        <img src="assets/images/perfil.jpg" alt="Avatar de usuario" />
      </div>
    </div>
    <hr class="linea-divisoria">
  </header>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <nav class="sidebar-menu">
        <a href="index.html"><i class="fas fa-home"></i><span class="sidebar-text">Inicio</span></a>
        <a href="#rutas"><i class="fas fa-route"></i><span class="sidebar-text">Mis Rutas</span></a>
        <a href="#comunidad"><i class="fas fa-users"></i><span class="sidebar-text">Comunidad</span></a>
        <a href="#dashboard"><i class="fas fa-chart-line"></i><span class="sidebar-text">Dashboard</span></a>
        <div class="navbar-avatar navbar-avatar-mobile">
          <img src="assets/images/perfil.jpg" alt="Avatar de usuario" />
        </div>
    </nav>
    <div class="sidebar-toggle" id="sidebarToggle">&lt;&lt;</div>
  </aside>
  
  <!-- Offcanvas Menu -->
  <div class="offcanvas-menu" id="offcanvas-menu">
    <label for="menu-toggle" class="close-offcanvas">&times;</label>
    <a href="#cursos" class="btn-cursos cursos">Cursos</a>
    <a href="index.html#precios" class="btn-primary">Precios</a>
  </div>

  <!-- Main Content // Aquí deben colocar sus partes- según el orden-->
  <main class="container dashboard-main">
    <!-- Tabs de navegación -->
    <div class="dashboard-tabs">
      <button class="tab active"><i class="fas fa-fire"></i> Tendencias</button>
      <a href="#" class="dashboard-link">Ver todos los cursos</a>
    </div>

    <!-- Carrusel de cursos -->
    <div class="carousel-wrapper">
      <button class="carousel-prev"><i class="fas fa-chevron-left"></i></button>
      <div class="dashboard-carousel">
        <div class="carousel-item">
          <img src="assets/images/JS0.jpg" alt="JavaScript">
          <span class="carousel-number">1</span>
          <div class="carousel-title">JavaScript de cero</div>
        </div>
        <div class="carousel-item">
          <img src="assets/images/TS0.png" alt="tipescript">
          <span class="carousel-number">2</span>
          <div class="carousel-title">TypeScript desde cero</div>
        </div>
        <div class="carousel-item">
          <img src="assets/images/react0.png" alt="react">
          <span class="carousel-number">3</span>
          <div class="carousel-title">React desde cero</div>
        </div>
        <div class="carousel-item">
          <img src="assets/images/py0.png" alt="Python">
          <span class="carousel-number">4</span>
          <div class="carousel-title">Python desde cero</div>
        </div>
        <div class="carousel-item">
          <img src="assets/images/Progra0.png" alt="Programación">
          <span class="carousel-number">5</span>
          <div class="carousel-title">Programación desde cero</div>
        </div>
        <div class="carousel-item">
          <img src="assets/images/html0.jpg" alt="html">
          <span class="carousel-number">6</span>
          <div class="carousel-title">HTML desde cero</div>
        </div>
      </div>
      <button class="carousel-next"><i class="fas fa-chevron-right"></i></button>
    </div>

    <!-- Paneles de estadísticas -->
    <div class="dashboard-panels">
      <!-- Panel de estudios de la semana -->
      <div class="dashboard-panel">
        <div class="panel-header">
          <span>Tus estudios de la semana</span>
        </div>
        <canvas id="studyChart" height="120"></canvas>
      </div>
      <!-- Panel de objetivo diario -->
      <div class="dashboard-panel">
        <div class="panel-header">
          <span>Tu objetivo diario</span>
          <i class="fas fa-cog panel-settings"></i>
        </div>
        <div class="daily-goal" style="position:relative;">
          <svg width="250" height="250">
            <circle cx="110" cy="110" r="100" stroke="#214A4A" stroke-width="20" fill="none"/>
            <circle cx="110" cy="110" r="100" stroke="#00F7FF" stroke-width="20" fill="none"
              stroke-dasharray="597" stroke-dashoffset="320"/>
          </svg>
          <div class="goal-text">
            <span class="goal-hours">0/2h</span>
            <span class="goal-msg">¡Vas por buen camino!</span>
          </div>
        </div>
      </div>
      <!-- Panel de Cursos estudiados -->
      <div class="dashboard-panel">
        <div class="panel-header">
            <span>Cursos estudiados</span>
            <a href="#Mi ruta" class="panel-link">Ver todos</a>
        </div>
        <div class="studied-courses-list">
            <div class="studied-course">
              <img src="assets/images/JS0.jpg" alt="JavaScript de cero">
              <div class="studied-info">
                <div class="studied-title">JavaScript de cero</div>
                <div class="studied-progress">Progreso: 60%</div>
              </div>
              <a href="#Mi Ruta" class="btn-primary btn-continue">Continuar</a>
            </div>
            <div class="studied-course">
              <img src="assets/images/react0.png" alt="React desde cero">
              <div class="studied-info">
                <div class="studied-title">React desde cero</div>
                <div class="studied-progress">Progreso: 35%</div>
              </div>
              <a href="#Mi Ruta" class="btn-primary btn-continue">Continuar</a>
            </div>
        </div>
        </div>
      <!-- Panel de Certificados -->
      <div class="dashboard-panel">
        <div class="panel-header">
          <span>Certificados</span>
          <a href="#certificados" class="panel-link">Ver todos</a>
        </div>
        <div class="cert-panel">
          <i class="fas fa-certificate cert-icon"></i>
          <div>
            <div class="cert-title">¡Aún no tienes certificados!</div>
            <div class="cert-desc">Completa un curso para obtener tu primer certificado.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- FAQ Button -->
    <div class="faq-button" id="faqToggle">❓</div>

    <!-- FAQ Popup -->
    <div class="faq-popup" id="faqPopup">
      <input type="text" placeholder="Tu nombre" id="faqName" />
      <input type="email" placeholder="Tu correo" id="faqEmail" />
      <textarea placeholder="¿En qué podemos ayudarte?" id="faqMessage"></textarea>
      <button id="faqSend">Enviar</button>
    </div>
  </main>

  <script>
  document.addEventListener("DOMContentLoaded", function () {
    // Referencias comunes
    const toggle = document.getElementById("menu-toggle");
    const sidebar = document.getElementById("sidebar");
    const sidebarToggle = document.getElementById("sidebarToggle");
    const faqSendButton = document.getElementById('faqSend');

    // Funcionalidad del menú hamburguesa (offcanvas)
    if (toggle) {
      toggle.addEventListener("change", function () {
        document.body.classList.toggle("menu-open", toggle.checked);
      });
    }

    // Funcionalidad de colapso del sidebar
    if (sidebarToggle && sidebar) {
      sidebarToggle.addEventListener("click", () => {
        sidebar.classList.toggle("collapsed");
        document.body.classList.toggle("sidebar-collapsed");

        // Cambia el símbolo del botón
        sidebarToggle.innerHTML = sidebar.classList.contains("collapsed") ? "&gt;&gt;" : "&lt;&lt;";
      });
    }

    // Envío del formulario de preguntas frecuentes
    if (faqSendButton) {
      faqSendButton.addEventListener("click", () => {
        const name = document.getElementById('faqName').value.trim();
        const email = document.getElementById('faqEmail').value.trim();
        const message = document.getElementById('faqMessage').value.trim();
        const faqPopup = document.getElementById('faqPopup');

        if (!name || !email || !message) {
          alert('Por favor, completa todos los campos.');
        } else {
          alert('¡Mensaje enviado! Gracias por contactarnos.');
          // Limpiar los campos
          document.getElementById('faqName').value = '';
          document.getElementById('faqEmail').value = '';
          document.getElementById('faqMessage').value = '';
          if (faqPopup) faqPopup.style.display = 'none';
        }
      });
    }

    // Mostrar/ocultar el popup de preguntas frecuentes
    const faqToggle = document.getElementById('faqToggle');
    const faqPopup = document.getElementById('faqPopup');

    if (faqToggle && faqPopup) {
      faqToggle.addEventListener('click', () => {
        faqPopup.style.display = faqPopup.style.display === 'block' ? 'none' : 'block';
      });

      // Opcional: cerrar el popup al hacer clic fuera de él
      document.addEventListener('click', (e) => {
        if (
          faqPopup.style.display === 'block' &&
          !faqPopup.contains(e.target) &&
          e.target !== faqToggle
        ) {
          faqPopup.style.display = 'none';
        }
      });
    }

    // Carrusel con flechas izquierda y derecha
    const carousel = document.querySelector('.dashboard-carousel');
    const nextBtn = document.querySelector('.carousel-next');
    const prevBtn = document.querySelector('.carousel-prev');
    const scrollAmount = 220; // Ajusta según el ancho de tus tarjetas

    if (carousel && nextBtn) {
      nextBtn.addEventListener('click', () => {
        carousel.scrollBy({
          left: scrollAmount,
          behavior: 'smooth'
        });
      });
    }
    if (carousel && prevBtn) {
      prevBtn.addEventListener('click', () => {
        carousel.scrollBy({
          left: -scrollAmount,
          behavior: 'smooth'
        });
      });
    }

    // Gráfico de horas estudiadas por día
    const ctx = document.getElementById('studyChart').getContext('2d');
    const studyChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['L', 'M', 'M', 'J', 'V', 'S', 'D'], // Lunes a Domingo
        datasets: [{
          label: 'Horas',
          data: [1, 2, 1.5, 0, 2.5, 3, 1], // Ejemplo de horas por día
          backgroundColor: '#8CCCCF',
          borderRadius: 8,
          maxBarThickness: 32
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false }
        },
        scales: {
          x: {
            grid: { display: false },
            ticks: { color: '#8CCCCF', font: { weight: 'bold' } }
          },
          y: {
            beginAtZero: true,
            max: 4,
            ticks: {
              stepSize: 1,
              color: '#8CCCCF',
              callback: function(value) { return value + 'h'; }
            },
            grid: { color: '#214A4A' }
          }
        }
      }
    });
  });
  </script>
</body>
</html>